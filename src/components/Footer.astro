---
import SocialLink from './SocialLink.astro';
import { getAllSocialProfiles } from '../lib/social-config';
import { Image } from 'astro:assets';
import vpLogo from '../assets/images/vp-logo.webp';

const socialProfiles = getAllSocialProfiles();
const currentYear = new Date().getFullYear();
---

<footer class="mt-auto border-t border-primary/10 transition-all duration-200 relative z-30 bg-matrix-black" data-testid="footer">
  <div class="relative">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex flex-col sm:flex-row justify-between items-center gap-2 sm:gap-3 py-2 sm:py-3 min-h-[44px] sm:min-h-[50px]">
        <!-- Left: VP monogram logo with subtle glow -->
        <a href="/" class="flex items-center gap-2 group" aria-label="Go to homepage" data-testid="footer-logo">
          <div class="relative">
            <Image
              src={vpLogo}
              alt="Vasileios Politeiadis logo"
              width={24}
              height={24}
              class="w-6 h-6 rounded-md transition-transform duration-200 group-hover:scale-105"
            />
            <!-- Subtle glow effect -->
            <div class="absolute inset-0 rounded-md bg-neon-lime/15 blur-sm group-hover:bg-neon-lime/25 transition-opacity duration-200"></div>
          </div>
          
        </a>

        <!-- Center: navigation links, copyright, and privacy -->
        <div class="flex flex-col items-center gap-2 text-xs text-matrix-white/60 text-center" data-testid="footer-copyright">
          <!-- Navigation Links -->
          <nav aria-label="Footer navigation" class="flex flex-wrap justify-center items-center gap-x-3 gap-y-1">
            <a href="/" class="hover:text-primary transition-colors">Home</a>
            <span aria-hidden="true">•</span>
            <a href="/#about" class="hover:text-primary transition-colors">About</a>
            <span aria-hidden="true">•</span>
            <a href="/#projects" class="hover:text-primary transition-colors">Projects</a>
            <span aria-hidden="true">•</span>
            <a href="/blog" class="hover:text-primary transition-colors">Blog</a>
            <span aria-hidden="true">•</span>
            <a href="/#contact" class="hover:text-primary transition-colors">Contact</a>
          </nav>
          <!-- Copyright and Privacy -->
          <div class="flex items-center gap-3">
            <span>&copy; {currentYear} Vasileios Politeiadis</span>
            <span aria-hidden="true">•</span>
            <a href="/privacy" class="hover:text-primary transition-colors" aria-label="Privacy Policy">
              Privacy Policy
            </a>
          </div>
        </div>

        <!-- Right: social icons with minimal styling -->
        <nav class="flex items-center gap-2" aria-label="Social links" data-testid="footer-social-links">
          {socialProfiles.map((profile) => (
            <SocialLink profile={profile} size="sm" />
          ))}
        </nav>
      </div>
    </div>
  </div>
</footer>


