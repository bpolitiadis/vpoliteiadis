---
export interface Props {
  title: string;
  description?: string;
  /**
   * Optional slug of the background image set located in `/public/images`.
   * When omitted, the component renders without its own background, allowing
   * the page-wide background from `MainLayout` to show through.
   * If provided, it will look for responsive variants as before.
   */
  bgSlug?: string;
  /** Optional small text below description, e.g. article count */
  metaText?: string;
  /** Eager-load hero image for above-the-fold pages */
  eager?: boolean;
}

const { title, description, bgSlug, metaText } = Astro.props;
---

<section class="relative py-6 md:py-8 overflow-hidden">
  {bgSlug && (
    <div class="pointer-events-none absolute inset-0 z-0" aria-hidden="true">
      {/* Background image - removed to avoid 404s */}
      {/* <picture>
        <source srcset={`/images/${bgSlug}-1200.avif 1200w, /images/${bgSlug}-800.avif 800w, /images/${bgSlug}-480.avif 480w`} type="image/avif" />
        <source srcset={`/images/${bgSlug}-1200.webp 1200w, /images/${bgSlug}-800.webp 800w, /images/${bgSlug}-480.webp 480w`} type="image/webp" />
        <img 
          src={`/images/${bgSlug}.png`}
          alt=""
          class="absolute inset-0 -z-10 h-full w-full object-cover object-center opacity-40 md:opacity-50"
          aria-hidden="true"
          loading="eager"
          fetchpriority="high"
          decoding="async"
          sizes="100vw"
        />
      </picture> */}
      <div class="absolute inset-0 bg-gradient-to-br from-black/40 via-black/25 to-black/40"></div>
    </div>
  )}

  <div class="relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center">
      <h1 class="text-xl sm:text-2xl md:text-4xl font-orbitron font-bold text-neon-lime mb-3 md:mb-4 tracking-tight leading-[1.15] md:leading-tight text-balance break-words hyphens-auto text-shadow-none sm:text-glow animate-fade-in">
        {title}
      </h1>
      {description && (
        <p class="text-xs md:text-sm max-w-3xl mx-auto text-foreground/80 mb-3 md:mb-4">
          {description}
        </p>
      )}
      {metaText && (
        <div class="text-foreground/60 text-sm">{metaText}</div>
      )}
      <slot />
    </div>
  </div>
</section>


