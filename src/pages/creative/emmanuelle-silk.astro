---
import MainLayout from '../../layouts/MainLayout.astro';
import { Image, getImage } from 'astro:assets';
import 'glightbox/dist/css/glightbox.min.css';
// Masters imported for astro:assets pipeline
import es1 from '../../assets/images/emmanuelle-silk-1.png';
import es2 from '../../assets/images/emmanuelle-silk-2.png';
import es3 from '../../assets/images/emmanuelle-silk-3.png';
import es4 from '../../assets/images/emmanuelle-silk-4.png';
import es5 from '../../assets/images/emmanuelle-silk-5.png';
import es6 from '../../assets/images/emmanuelle-silk-6.png';
import es7 from '../../assets/images/emmanuelle-silk-7.png';
import es8 from '../../assets/images/emmanuelle-silk-8.png';
// import logo from '../../assets/images/emmanuelle-silk-logo.webp';

const sources = [es1, es2, es3, es4, es5, es6, es7, es8];
const items = await Promise.all(
  sources.map(async (src, i) => {
    const full = await getImage({ src, width: 2000, format: 'webp' });
    return {
      src,
      fullSrc: full.src,
      alt: `Emmanuelle Silk design ${i + 1}`,
      index: i,
    };
  })
);
---
---

<MainLayout 
  title="Emmanuelle Silk Collection" 
  description="One of the first AI-driven fashion collections in Greece: an 8-piece silk scarf series."
  currentPath="/creative/emmanuelle-silk"
>
  <section class="relative py-16 px-4 sm:px-6 lg:px-8">
    <div class="max-w-6xl mx-auto">
      <a href="/creative" class="text-primary hover:underline inline-flex items-center gap-2 mb-6">
        ‚Üê Back to Creative Lab
      </a>

      <header class="mb-8 text-center">
        <h1 class="font-orbitron text-3xl md:text-5xl text-primary mb-4">Emmanuelle Silk</h1>
        <p class="text-muted-foreground max-w-3xl mx-auto">
          Among the first AI-driven fashion collections in Greece. An eight-piece silk scarf series exploring
          generative aesthetics and material storytelling.
        </p>
      </header>

      <h2 class="font-orbitron text-primary text-xl md:text-2xl mb-4">The Collection</h2>
      <p class="text-matrix-white/90 mb-6">
        This capsule explores algorithmic pattern-making, color synthesis, and iterative prompt engineering to achieve
        luxurious, production-ready compositions for silk. Each design is curated for balance, texture, and movement.
      </p>

      <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">
        {items.map((item) => (
          <a
            href={item.fullSrc}
            class="glightbox group block rounded-2xl overflow-hidden ring-1 ring-cyber-gray/40 shadow-inner focus:outline-none focus-visible:ring-4 focus-visible:ring-primary/50"
            data-gallery="silk"
            data-title={item.alt}
          >
            <Image
              src={item.src}
              alt={item.alt}
              widths={[360, 480, 640, 800]}
              sizes="(max-width: 640px) 50vw, (max-width: 1024px) 33vw, 25vw"
              loading="lazy"
              decoding="async"
              format="webp"
              class="aspect-square w-full object-cover transition-transform duration-300 group-hover:scale-[1.03] group-hover:ring-2 group-hover:ring-primary rounded-2xl"
            />
          </a>
        ))}
      </div>
    </div>
  </section>
  <script is:inline type="module">
    import GLightbox from 'glightbox';
    GLightbox({
      selector: 'a.glightbox[data-gallery="silk"]',
      touchNavigation: true,
      loop: true,
      autoplayVideos: false,
      openEffect: 'fade',
      closeEffect: 'fade',
      slideEffect: 'fade',
      svg: {
        prev: '<svg viewBox="0 0 24 24" width="44" height="44" aria-hidden="true"><path fill="currentColor" d="M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"/></svg>',
        next: '<svg viewBox="0 0 24 24" width="44" height="44" aria-hidden="true"><path fill="currentColor" d="m8.59 16.59 1.41 1.41 6-6-6-6-1.41 1.41L13.17 12z"/></svg>',
        close: '<svg viewBox="0 0 24 24" width="36" height="36" aria-hidden="true"><path fill="currentColor" d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>'
      }
    });
    // Preload the first full-size image for faster first open
    const firstLink = document.querySelector('a.glightbox[data-gallery="silk"]');
    if (firstLink) {
      const img = new Image();
      img.decoding = 'async';
      img.loading = 'eager';
      img.src = firstLink.getAttribute('href') || '';
    }
  </script>
</MainLayout>


<style>
  /* GLightbox cyberpunk theming overrides */
  .glightbox-container .goverlay { background: rgba(0, 0, 0, 0.9); }
  .glightbox-clean .gprev, .glightbox-clean .gnext, .glightbox-clean .gclose {
    color: #39FF14; /* neon lime */
    text-shadow: 0 0 10px rgba(57, 255, 20, 0.5);
  }
  .glightbox-clean .gdesc-inner { color: #E8FFE8; font-family: Inter, system-ui, sans-serif; }
  .glightbox-clean .gclose:hover, .glightbox-clean .gprev:hover, .glightbox-clean .gnext:hover {
    filter: drop-shadow(0 0 6px rgba(57, 255, 20, 0.65));
  }
  @media (prefers-reduced-motion: no-preference) {
    .glightbox-container .ginner-container { transition: opacity .25s ease-in-out; }
  }
  /* Subtle particle-like overlay */
  .glightbox-container:before {
    content: '';
    position: fixed; inset: 0; pointer-events: none;
    background-image: radial-gradient(rgba(57,255,20,0.06) 1px, transparent 1px);
    background-size: 60px 60px;
  }
</style>
