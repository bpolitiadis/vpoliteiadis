---
import MainLayout from '../layouts/MainLayout.astro';
import HeroIntro from '../components/hero/HeroIntro.astro';
import LetterGlitch from '../components/LetterGlitch.tsx';

// Prerender the homepage for better performance
export const prerender = true;


// Enhanced structured data for homepage
const homeStructuredData = {
  "@type": "WebSite",
  "name": "Vasileios Politeiadis - Portfolio",
  "description": "Professional portfolio of Vasileios Politeiadis, Senior QA Automation Specialist and Full-Stack Developer specializing in European Commission projects, React/Next.js development, and AI automation solutions.",
  "url": "https://vpoliteiadis.com",
  "author": {
    "@type": "Person",
    "name": "Vasileios Politeiadis",
    "jobTitle": "Senior QA Automation Specialist & Full-Stack Developer"
  },
  "potentialAction": {
    "@type": "SearchAction",
    "target": "https://vpoliteiadis.com/search?q={search_term_string}",
    "query-input": "required name=search_term_string"
  }
};
---

<MainLayout 
  title="Vasileios Politeiadis - Senior QA Automation Specialist & Full-Stack Developer | Portfolio"
  description="Vasileios Politeiadis is a Senior QA Automation Specialist at European Commission DG DIGIT and Full-Stack Developer. Expert in Java automation frameworks, React/Next.js applications, and AI-powered solutions. View portfolio, projects, and professional experience."
  currentPath="/"
  keywords={[
    'Vasileios Politeiadis',
    'QA Automation Specialist',
    'QA Automation Engineer',
    'Full-Stack Developer',
    'Next.js Developer',
    'React Developer',
    'European Commission Projects',
    'Java Selenium Testing',
    'Playwright Testing',
    'TypeScript Developer',
    'AI Automation',
    'Professional Portfolio',
    'Online CV'
  ]}
  structuredData={homeStructuredData}
>
  <!-- Enhanced Hero Section - Full viewport height with better spacing distribution -->
  <section class="relative h-[calc(100svh-150px)] sm:h-[calc(100vh-120px)] overflow-hidden flex flex-col justify-between py-1 sm:py-8" role="banner" aria-labelledby="hero-heading" data-testid="page-home">
    <h1 id="hero-heading" class="sr-only">Vasileios Politeiadis - Senior QA Automation Specialist & Full-Stack Developer</h1>
    
    <!-- Full-screen glitch background -->
    <div class="absolute inset-0 pointer-events-none opacity-20 z-0" aria-hidden="true">
      <LetterGlitch client:load />
    </div>
    
    <!-- Hero content with better spacing -->
    <div class="flex-1 flex items-center justify-center">
      <HeroIntro />
    </div>
  </section>

</MainLayout>

<script>
  // Simplified animation trigger script for main page
  document.addEventListener('DOMContentLoaded', () => {
    // Trigger animations after a short delay to ensure components are loaded
    setTimeout(() => {
      // Trigger animations for elements with animate-reveal-up class
      const animatedElements = document.querySelectorAll('.animate-reveal-up');
      
      // Add animate class to trigger animations with staggered delay
      animatedElements.forEach((element, index) => {
        setTimeout(() => {
          element.classList.add('animate');
        }, index * 200);
      });
    }, 500); // Increased delay to ensure proper component hydration
  });
</script>

<style>
  /* Enhanced spacing for better visual hierarchy */
  .hero-section {
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    min-height: calc(100vh - 120px);
    padding: 2rem 0;
  }
  
  /* Chat bubble area with more breathing room */
  .chat-area {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    flex: 1;
    padding: 2rem 0;
  }
  
  /* Navigation area positioned near footer */
  .nav-area {
    display: flex;
    justify-content: center;
    align-items: flex-end;
    padding-bottom: 2rem;
  }
  
  /* Enhanced spacing for better visual breathing room */
  .spaced-content {
    margin: 1.5rem 0;
  }
  
  /* Lazy loading animations for Matrix theme */
  [data-lazy-section] {
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 0.6s ease-out, transform 0.6s ease-out;
  }
  
  [data-lazy-section].lazy-loaded {
    opacity: 1;
    transform: translateY(0);
  }
  
  /* Optimize animations for users who prefer reduced motion */
  @media (prefers-reduced-motion: reduce) {
    [data-lazy-section] {
      transition: none;
    }
  }
  
  /* Animation pause when tab is not visible */
  .paused * {
    animation-play-state: paused !important;
  }
  
  /* Reduced motion support */
  .reduced-motion * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
  
  /* Responsive spacing adjustments */
  @media (min-width: 768px) {
    .hero-section {
      padding: 3rem 0;
    }
    
    .chat-area {
      padding: 3rem 0;
    }
    
    .nav-area {
      padding-bottom: 3rem;
    }
  }
  
  @media (min-width: 1024px) {
    .hero-section {
      padding: 4rem 0;
    }
    
    .chat-area {
      padding: 4rem 0;
    }
    
    .nav-area {
      padding-bottom: 4rem;
    }
  }
</style>
