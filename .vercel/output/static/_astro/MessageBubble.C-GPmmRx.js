import{j as s}from"./jsx-runtime.CyXy1Ci3.js";import{r as a}from"./index.CaZlGE7t.js";import{c as d}from"./logger-client.CM1paYI9.js";function y({onComplete:u}){const[e,m]=a.useState(1),[n,x]=a.useState(""),[o,g]=a.useState(!1),[p,h]=a.useState(!1),[j,b]=a.useState(""),[B,v]=a.useState(!1),r=["Access granted.","Hello, I am Vasilis.","I break your code professionally.","I like to build things.","I automate boring workflows with AI.","Welcome to my website."];return d.animation("MessageBubble",`rendered, currentStep: ${e}, displayText: ${n}`),a.useEffect(()=>{if(e!==1||!o)return;const l="Access granted.";let t=0,c=!1;const i=setTimeout(()=>{const f=setInterval(()=>{c?t>=0?(b(l.slice(0,t)),t--):(clearInterval(f),h(!0),setTimeout(()=>{m(2)},500)):t<l.length?(b(l.slice(0,t+1)),t++):setTimeout(()=>{v(!0),c=!0,t=l.length-1},1200)},c?30:50);return()=>clearInterval(f)},800);return()=>{clearTimeout(i)}},[e,o]),a.useEffect(()=>{if(e===1)return;d.animation("MessageBubble",`useEffect triggered, currentStep: ${e}`);const l=r[e-1];let t=0;x("");const c=setInterval(()=>{t<l.length?(x(l.slice(0,t+1)),t++):(clearInterval(c),e<r.length?setTimeout(()=>{m(i=>i+1)},800):setTimeout(()=>{u?.();const i=document.querySelector('[data-testid="message-bubble"]');i&&(i.setAttribute("data-complete","true"),d.animation("MessageBubble","sequence completed"))},800))},30);return()=>clearInterval(c)},[e,u]),a.useEffect(()=>{e===1&&g(!0)},[e]),s.jsx("div",{className:"relative max-w-lg","data-testid":"message-bubble",role:"dialog","aria-live":"polite","aria-label":"Welcome message",children:s.jsx("div",{className:"relative rounded-tl-none rounded-tr-[22px] rounded-br-[22px] rounded-bl-[22px] bg-black/30 backdrop-blur-lg border border-[#39FF14]/60 chat-bubble-glitch",children:s.jsx("div",{className:"p-6 md:p-8",children:s.jsxs("div",{className:"space-y-3",children:[o&&!p&&s.jsxs("p",{className:"text-[#39FF14] font-orbitron text-lg font-bold text-shadow-neon",children:[j,s.jsx("span",{className:"ml-1 animate-pulse",children:"|"})]}),e>=2&&s.jsx("p",{className:"text-[#39FF14] font-orbitron text-lg font-bold text-shadow-neon",children:e===2?n:r[1]}),e>=3&&s.jsx("p",{className:"text-[#B5B5B5] font-inter text-base leading-relaxed",children:e===3?n:r[2]}),e>=4&&s.jsx("p",{className:"text-[#B5B5B5] font-inter text-base leading-relaxed",children:e===4?n:r[3]}),e>=5&&s.jsx("p",{className:"text-[#B5B5B5] font-inter text-base leading-relaxed",children:e===5?n:r[4]}),e>=6&&s.jsx("p",{className:"text-[#39FF14] font-orbitron text-lg font-bold text-shadow-neon",children:e===6?n:r[5]})]})})})})}export{y as default};
