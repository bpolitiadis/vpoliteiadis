import{j as X}from"./jsx-runtime.CyXy1Ci3.js";import{r as n}from"./index.CaZlGE7t.js";import{r as mn}from"./index.Bh1Hq7Ut.js";/* empty css                                 */const Ot="carousel",Rt="controller",pn="navigation",gn="no-scroll",He="portal",vn="root",Tt="toolbar",pt="zoom",We="loading",Fe="error",$e="complete",xn="placeholder",bn=e=>`active-slide-${e}`,En="fullsize",Ke="flex_center",wn="no_scroll",kt="no_scroll_padding",Ge="slide",Dt="slide_wrapper",Cn="slide_wrapper_interactive",ue="prev",de="next",gt="swipe",pe="close",At="onPointerDown",Zt="onPointerMove",Wt="onPointerUp",Ft="onPointerLeave",$t="onPointerCancel",qe="onKeyDown",_n="onKeyUp",Qe="onWheel",Pn="Escape",yn="ArrowLeft",Sn="ArrowRight",Mn="button",ze="icon",Vt="contain",vt="cover",Ut="Unknown action type";var In=mn();const Xt="yarl__";function ne(...e){return[...e].filter(Boolean).join(" ")}function O(e){return`${Xt}${e}`}function K(e){return`--${Xt}${e}`}function we(e,t){return`${e}${t?`_${t}`:""}`}function Je(e){return t=>we(e,t)}function ge(e,t){var r;return(r=e?.[t])!==null&&r!==void 0?r:t}function Nn(e,t,r){return ge(e,"{index} of {total}").replace(/\{index}/g,`${rt(r,t.length)+1}`).replace(/\{total}/g,`${t.length}`)}function et(...e){return()=>{e.forEach(t=>{t()})}}function re(e,t,r){return()=>{const o=n.useContext(r);if(!o)throw new Error(`${e} must be used within a ${t}.Provider`);return o}}function tt(){return typeof window<"u"}function nt(e,t=0){const r=10**t;return Math.round((e+Number.EPSILON)*r)/r}function ve(e){return e.type===void 0||e.type==="image"}function ot(e,t){return e.imageFit===vt||e.imageFit!==Vt&&t===vt}function Ie(e){return typeof e=="string"?Number.parseInt(e,10):e}function Se(e){if(typeof e=="number")return{pixel:e};if(typeof e=="string"){const t=Ie(e);return e.endsWith("%")?{percent:t}:{pixel:t}}return{pixel:0}}function Ln(e,t){const r=Se(t),o=r.percent!==void 0?e.width/100*r.percent:r.pixel;return{width:Math.max(e.width-2*o,0),height:Math.max(e.height-2*o,0)}}function On(){return(tt()?window?.devicePixelRatio:void 0)||1}function rt(e,t){return t>0?(e%t+t)%t:0}function zt(e){return e.length>0}function Yt(e,t){return e[rt(t,e.length)]}function Ye(e,t){return zt(e)?Yt(e,t):void 0}function Rn(e){return ve(e)?e.src:void 0}function Tn(e,t,r){if(!r)return e;const{buttons:o,...i}=e,s=o.findIndex(l=>l===t),c=n.isValidElement(r)?n.cloneElement(r,{key:t},null):r;if(s>=0){const l=[...o];return l.splice(s,1,c),{buttons:l,...i}}return{buttons:[c,...o],...i}}function kn(e,t,r=0){return Math.min(e.preload,Math.max(e.finite?t.length-1:Math.floor(t.length/2),r))}const Dn=Number(n.version.split(".")[0])>=19;function An(e){return{inert:Dn?e:e?"":void 0}}function Zn(e){e.scrollTop}const je={open:!1,close:()=>{},index:0,slides:[],render:{},plugins:[],toolbar:{buttons:[pe]},labels:{},animation:{fade:250,swipe:500,easing:{fade:"ease",swipe:"ease-out",navigation:"ease-in-out"}},carousel:{finite:!1,preload:2,padding:"16px",spacing:"30%",imageFit:Vt,imageProps:{}},controller:{ref:null,focus:!0,aria:!1,touchAction:"none",closeOnPullUp:!1,closeOnPullDown:!1,closeOnBackdropClick:!1,preventDefaultWheelX:!0,preventDefaultWheelY:!1,disableSwipeNavigation:!1},portal:{},noScroll:{disabled:!1},on:{},styles:{},className:""};function ce(e,t){return{name:e,component:t}}function z(e,t){return{module:e,children:t}}function jt(e,t,r){return e.module.name===t?r(e):e.children?[z(e.module,e.children.flatMap(o=>{var i;return(i=jt(o,t,r))!==null&&i!==void 0?i:[]}))]:[e]}function me(e,t,r){return e.flatMap(o=>{var i;return(i=jt(o,t,r))!==null&&i!==void 0?i:[]})}function Wn(e,t=[],r=[]){let o=e;const i=f=>{const g=[...o];for(;g.length>0;){const m=g.pop();if(m?.module.name===f)return!0;m?.children&&g.push(...m.children)}return!1},s=(f,g)=>{if(f===""){o=[z(g,o)];return}o=me(o,f,m=>[z(g,[m])])},c=(f,g)=>{o=me(o,f,m=>[z(m.module,[z(g,m.children)])])},l=(f,g,m)=>{o=me(o,f,w=>{var E;return[z(w.module,[...m?[z(g)]:[],...(E=w.children)!==null&&E!==void 0?E:[],...m?[]:[z(g)]])]})},a=(f,g,m)=>{o=me(o,f,w=>[...m?[z(g)]:[],w,...m?[]:[z(g)]])},u=f=>{c(Rt,f)},p=(f,g)=>{o=me(o,f,m=>[z(g,m.children)])},d=f=>{o=me(o,f,g=>g.children)},h=f=>{r.push(f)};return t.forEach(f=>{f({contains:i,addParent:s,append:c,addChild:l,addSibling:a,addModule:u,replace:p,remove:d,augment:h})}),{config:o,augmentation:f=>r.reduce((g,m)=>m(g),f)}}const Bt=n.createContext(null),Ht=re("useA11yContext","A11yContext",Bt);function Fn({children:e}){const[t,r]=n.useState(!1),[o,i]=n.useState(!1),s=n.useMemo(()=>({focusWithin:t,trackFocusWithin:(l,a)=>{const u=p=>d=>{var h;d.currentTarget.contains(d.relatedTarget)||r(p),(h=p?l:a)===null||h===void 0||h(d)};return{onFocus:u(!0),onBlur:u(!1)}},autoPlaying:o,setAutoPlaying:i}),[t,o]);return n.createElement(Bt.Provider,{value:s},e)}const Kt=n.createContext(null),Ne=re("useDocument","DocumentContext",Kt);function $n({nodeRef:e,children:t}){const r=n.useMemo(()=>{const o=s=>{var c;return((c=s||e.current)===null||c===void 0?void 0:c.ownerDocument)||document};return{getOwnerDocument:o,getOwnerWindow:s=>{var c;return((c=o(s))===null||c===void 0?void 0:c.defaultView)||window}}},[e]);return n.createElement(Kt.Provider,{value:r},t)}const Gt=n.createContext(null),Le=re("useEvents","EventsContext",Gt);function Vn({children:e}){const[t]=n.useState({});n.useEffect(()=>()=>{Object.keys(t).forEach(o=>delete t[o])},[t]);const r=n.useMemo(()=>{const o=(c,l)=>{var a;(a=t[c])===null||a===void 0||a.splice(0,t[c].length,...t[c].filter(u=>u!==l))};return{publish:(...[c,l])=>{var a;(a=t[c])===null||a===void 0||a.forEach(u=>u(l))},subscribe:(c,l)=>(t[c]||(t[c]=[]),t[c].push(l),()=>o(c,l)),unsubscribe:o}},[t]);return n.createElement(Gt.Provider,{value:r},e)}const qt=n.createContext(null),q=re("useLightboxProps","LightboxPropsContext",qt);function Un({children:e,...t}){return n.createElement(qt.Provider,{value:t},e)}const Qt=n.createContext(null),le=re("useLightboxState","LightboxStateContext",Qt),Jt=n.createContext(null),Xn=re("useLightboxDispatch","LightboxDispatchContext",Jt);function zn(e,t){switch(t.type){case"swipe":{const{slides:r}=e,o=t?.increment||0,i=e.globalIndex+o,s=rt(i,r.length),c=Ye(r,s),l=o||t.duration!==void 0?{increment:o,duration:t.duration,easing:t.easing}:void 0;return{slides:r,currentIndex:s,globalIndex:i,currentSlide:c,animation:l}}case"update":return t.slides!==e.slides||t.index!==e.currentIndex?{slides:t.slides,currentIndex:t.index,globalIndex:t.index,currentSlide:Ye(t.slides,t.index)}:e;default:throw new Error(Ut)}}function Yn({slides:e,index:t,children:r}){const[o,i]=n.useReducer(zn,{slides:e,currentIndex:t,globalIndex:t,currentSlide:Ye(e,t)});n.useEffect(()=>{i({type:"update",slides:e,index:t})},[e,t]);const s=n.useMemo(()=>({...o,state:o,dispatch:i}),[o,i]);return n.createElement(Jt.Provider,{value:i},n.createElement(Qt.Provider,{value:s},r))}const en=n.createContext(null),Oe=re("useTimeouts","TimeoutsContext",en);function jn({children:e}){const[t]=n.useState([]);n.useEffect(()=>()=>{t.forEach(o=>window.clearTimeout(o)),t.splice(0,t.length)},[t]);const r=n.useMemo(()=>{const o=c=>{t.splice(0,t.length,...t.filter(l=>l!==c))};return{setTimeout:(c,l)=>{const a=window.setTimeout(()=>{o(a),c()},l);return t.push(a),a},clearTimeout:c=>{c!==void 0&&(o(c),window.clearTimeout(c))}}},[t]);return n.createElement(en.Provider,{value:r},e)}const it=n.forwardRef(function({label:t,className:r,icon:o,renderIcon:i,onClick:s,style:c,...l},a){const{styles:u,labels:p}=q(),d=ge(p,t);return n.createElement("button",{ref:a,type:"button",title:d,"aria-label":d,className:ne(O(Mn),r),onClick:s,style:{...c,...u.button},...l},i?i():n.createElement(o,{className:O(ze),style:u.icon}))});function Bn(e,t){const r=o=>n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true",focusable:"false",...o},t);return r.displayName=e,r}function fe(e,t){return Bn(e,n.createElement("g",{fill:"currentColor"},n.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),t))}const Hn=fe("Close",n.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),Kn=fe("Previous",n.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),Gn=fe("Next",n.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),qn=fe("Loading",n.createElement(n.Fragment,null,Array.from({length:8}).map((e,t,r)=>n.createElement("line",{key:t,x1:"12",y1:"6.5",x2:"12",y2:"1.8",strokeLinecap:"round",strokeWidth:"2.6",stroke:"currentColor",strokeOpacity:1/r.length*(t+1),transform:`rotate(${360/r.length*t}, 12, 12)`})))),Qn=fe("Error",n.createElement("path",{d:"M21.9,21.9l-8.49-8.49l0,0L3.59,3.59l0,0L2.1,2.1L0.69,3.51L3,5.83V19c0,1.1,0.9,2,2,2h13.17l2.31,2.31L21.9,21.9z M5,18 l3.5-4.5l2.5,3.01L12.17,15l3,3H5z M21,18.17L5.83,3H19c1.1,0,2,0.9,2,2V18.17z"})),oe=tt()?n.useLayoutEffect:n.useEffect;function st(){const[e,t]=n.useState(!1);return n.useEffect(()=>{var r,o;const i=(r=window.matchMedia)===null||r===void 0?void 0:r.call(window,"(prefers-reduced-motion: reduce)");t(i?.matches);const s=c=>t(c.matches);return(o=i?.addEventListener)===null||o===void 0||o.call(i,"change",s),()=>{var c;return(c=i?.removeEventListener)===null||c===void 0?void 0:c.call(i,"change",s)}},[]),e}function Jn(e){let t=0,r=0,o=0;const s=window.getComputedStyle(e).transform.match(/matrix.*\((.+)\)/);if(s){const c=s[1].split(",").map(Ie);c.length===6?(t=c[4],r=c[5]):c.length===16&&(t=c[12],r=c[13],o=c[14])}return{x:t,y:r,z:o}}function xt(e,t){const r=n.useRef(void 0),o=n.useRef(void 0),i=st();return oe(()=>{var s,c,l;if(e.current&&r.current!==void 0&&!i){const{keyframes:a,duration:u,easing:p,onfinish:d}=t(r.current,e.current.getBoundingClientRect(),Jn(e.current))||{};if(a&&u){(s=o.current)===null||s===void 0||s.cancel(),o.current=void 0;try{o.current=(l=(c=e.current).animate)===null||l===void 0?void 0:l.call(c,a,{duration:u,easing:p})}catch(h){console.error(h)}o.current&&(o.current.onfinish=()=>{o.current=void 0,d?.()})}}r.current=void 0}),{prepareAnimation:s=>{r.current=s},isAnimationPlaying:()=>{var s;return((s=o.current)===null||s===void 0?void 0:s.playState)==="running"}}}function tn(){const e=n.useRef(null),t=n.useRef(void 0),[r,o]=n.useState();return{setContainerRef:n.useCallback(s=>{e.current=s,t.current&&(t.current.disconnect(),t.current=void 0);const c=()=>{if(s){const l=window.getComputedStyle(s),a=u=>parseFloat(u)||0;o({width:Math.round(s.clientWidth-a(l.paddingLeft)-a(l.paddingRight)),height:Math.round(s.clientHeight-a(l.paddingTop)-a(l.paddingBottom))})}else o(void 0)};c(),s&&typeof ResizeObserver<"u"&&(t.current=new ResizeObserver(c),t.current.observe(s))},[]),containerRef:e,containerRect:r}}function ye(){const e=n.useRef(void 0),{setTimeout:t,clearTimeout:r}=Oe();return n.useCallback((o,i)=>{r(e.current),e.current=t(o,i>0?i:0)},[t,r])}function D(e){const t=n.useRef(e);return oe(()=>{t.current=e}),n.useCallback((...r)=>{var o;return(o=t.current)===null||o===void 0?void 0:o.call(t,...r)},[])}function bt(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function Be(e,t){return n.useMemo(()=>e==null&&t==null?null:r=>{bt(e,r),bt(t,r)},[e,t])}function eo(e,t=!1){const r=n.useRef(!1);oe(()=>{t&&r.current&&(r.current=!1,e())},[t,e]);const o=n.useCallback(()=>{r.current=!0},[]),i=n.useCallback(()=>{r.current=!1},[]);return{onFocus:o,onBlur:i}}function ct(){const[e,t]=n.useState(!1);return oe(()=>{t(window.getComputedStyle(window.document.documentElement).direction==="rtl")},[]),e}function to(){const[e]=n.useState({}),t=n.useCallback((i,s)=>{var c;(c=e[i])===null||c===void 0||c.forEach(l=>{s.isPropagationStopped()||l(s)})},[e]),r=n.useMemo(()=>({onPointerDown:i=>t(At,i),onPointerMove:i=>t(Zt,i),onPointerUp:i=>t(Wt,i),onPointerLeave:i=>t(Ft,i),onPointerCancel:i=>t($t,i),onKeyDown:i=>t(qe,i),onKeyUp:i=>t(_n,i),onWheel:i=>t(Qe,i)}),[t]),o=n.useCallback((i,s)=>(e[i]||(e[i]=[]),e[i].unshift(s),()=>{const c=e[i];c&&c.splice(0,c.length,...c.filter(l=>l!==s))}),[e]);return{registerSensors:r,subscribeSensors:o}}function Et(e,t){const r=n.useRef(0),o=ye(),i=D((...s)=>{r.current=Date.now(),e(s)});return n.useCallback((...s)=>{o(()=>{i(s)},t-(Date.now()-r.current))},[t,i,o])}const Ve=Je("slide"),Ue=Je("slide_image");function Me({slide:e,offset:t,render:r,rect:o,imageFit:i,imageProps:s,onClick:c,onLoad:l,onError:a,style:u}){var p,d,h,f,g,m,w,E;const[C,_]=n.useState(We),{publish:T}=Le(),{setTimeout:N}=Oe(),S=n.useRef(null);n.useEffect(()=>{t===0&&T(bn(C))},[t,C,T]);const b=D(y=>{("decode"in y?y.decode():Promise.resolve()).catch(()=>{}).then(()=>{y.parentNode&&(_($e),N(()=>{l?.(y)},0))})}),k=n.useCallback(y=>{S.current=y,y?.complete&&b(y)},[b]),M=n.useCallback(y=>{b(y.currentTarget)},[b]),V=D(()=>{_(Fe),a?.()}),L=ot(e,i),F=(y,B)=>Number.isFinite(y)?y:B,P=F(Math.max(...((d=(p=e.srcSet)===null||p===void 0?void 0:p.map(y=>y.width))!==null&&d!==void 0?d:[]).concat(e.width?[e.width]:[]).filter(Boolean)),((h=S.current)===null||h===void 0?void 0:h.naturalWidth)||0),A=F(Math.max(...((g=(f=e.srcSet)===null||f===void 0?void 0:f.map(y=>y.height))!==null&&g!==void 0?g:[]).concat(e.height?[e.height]:[]).filter(Boolean)),((m=S.current)===null||m===void 0?void 0:m.naturalHeight)||0),R=P&&A?{maxWidth:`min(${P}px, 100%)`,maxHeight:`min(${A}px, 100%)`}:{maxWidth:"100%",maxHeight:"100%"},Z=(w=e.srcSet)===null||w===void 0?void 0:w.sort((y,B)=>y.width-B.width).map(y=>`${y.src} ${y.width}w`).join(", "),x=()=>o&&!L&&e.width&&e.height?o.height/e.height*e.width:Number.MAX_VALUE,I=Z&&o&&tt()?`${Math.round(Math.min(x(),o.width))}px`:void 0,{style:$,className:j,...U}=s||{};return n.createElement(n.Fragment,null,n.createElement("img",{ref:k,onLoad:M,onError:V,onClick:c,draggable:!1,className:ne(O(Ue()),L&&O(Ue("cover")),C!==$e&&O(Ue("loading")),j),style:{...R,...u,...$},...U,alt:(E=e.alt)!==null&&E!==void 0?E:"",sizes:I,srcSet:Z,src:e.src}),C!==$e&&n.createElement("div",{className:O(Ve(xn))},C===We&&(r?.iconLoading?r.iconLoading():n.createElement(qn,{className:ne(O(ze),O(Ve(We)))})),C===Fe&&(r?.iconError?r.iconError():n.createElement(Qn,{className:ne(O(ze),O(Ve(Fe)))}))))}const no=n.forwardRef(function({className:t,children:r,onFocus:o,onBlur:i,...s},c){const l=n.useRef(null),{trackFocusWithin:a}=Ht();return n.createElement($n,{nodeRef:l},n.createElement("div",{ref:Be(c,l),className:ne(O("root"),t),...a(o,i),...s},r))});var Y;(function(e){e[e.NONE=0]="NONE",e[e.SWIPE=1]="SWIPE",e[e.PULL=2]="PULL",e[e.ANIMATION=3]="ANIMATION"})(Y||(Y={}));function nn(e,t,r,o,i){n.useEffect(()=>i?()=>{}:et(e(At,t),e(Zt,r),e(Wt,o),e(Ft,o),e($t,o)),[e,t,r,o,i])}var Q;(function(e){e[e.NONE=0]="NONE",e[e.SWIPE=1]="SWIPE",e[e.PULL=2]="PULL"})(Q||(Q={}));const Xe=30;function oo({disableSwipeNavigation:e,closeOnBackdropClick:t},r,o,i,s,c,l,a,u,p,d,h,f,g,m,w){const E=n.useRef(0),C=n.useRef([]),_=n.useRef(void 0),T=n.useRef(0),N=n.useRef(Q.NONE),S=n.useCallback(P=>{_.current===P.pointerId&&(_.current=void 0,N.current=Q.NONE);const A=C.current;A.splice(0,A.length,...A.filter(R=>R.pointerId!==P.pointerId))},[]),b=n.useCallback(P=>{S(P),P.persist(),C.current.push(P)},[S]),k=n.useCallback(P=>C.current.find(({pointerId:A})=>P.pointerId===A),[]),M=D(P=>{b(P)}),V=(P,A)=>d&&P>A||p&&P<-A,L=D(P=>{const A=k(P);if(A)if(_.current===P.pointerId){const R=Date.now()-T.current,Z=E.current;N.current===Q.SWIPE?Math.abs(Z)>.3*i||Math.abs(Z)>5&&R<s?a(Z,R):u(Z):N.current===Q.PULL&&(V(Z,2*Xe)?g(Z,R):m(Z)),E.current=0,N.current=Q.NONE}else{const{target:R}=P;t&&R instanceof HTMLElement&&R===A.target&&(R.classList.contains(O(Ge))||R.classList.contains(O(Dt)))&&w()}S(P)}),F=D(P=>{const A=k(P);if(A){const R=_.current===P.pointerId;if(P.buttons===0){R&&E.current!==0?L(P):S(A);return}const Z=P.clientX-A.clientX,x=P.clientY-A.clientY;if(_.current===void 0){const I=$=>{b(P),_.current=P.pointerId,T.current=Date.now(),N.current=$};Math.abs(Z)>Math.abs(x)&&Math.abs(Z)>Xe&&o(Z)?e||(I(Q.SWIPE),c()):Math.abs(x)>Math.abs(Z)&&V(x,Xe)&&(I(Q.PULL),h())}else R&&(N.current===Q.SWIPE?(E.current=Z,l(Z)):N.current===Q.PULL&&(E.current=x,f(x)))}});nn(r,M,F,L)}function ro({preventDefaultWheelX:e,preventDefaultWheelY:t}){const r=n.useRef(null),o=D(i=>{const s=Math.abs(i.deltaX)>Math.abs(i.deltaY);(s&&e||!s&&t||i.ctrlKey)&&i.preventDefault()});return n.useCallback(i=>{var s;i?i.addEventListener("wheel",o,{passive:!1}):(s=r.current)===null||s===void 0||s.removeEventListener("wheel",o),r.current=i},[o])}function io(e,t,r,o,i,s,c,l,a){const u=n.useRef(0),p=n.useRef(0),d=n.useRef(void 0),h=n.useRef(void 0),f=n.useRef(0),g=n.useRef(void 0),m=n.useRef(0),{setTimeout:w,clearTimeout:E}=Oe(),C=n.useCallback(()=>{d.current&&(E(d.current),d.current=void 0)},[E]),_=n.useCallback(()=>{h.current&&(E(h.current),h.current=void 0)},[E]),T=D(()=>{e!==Y.SWIPE&&(u.current=0,m.current=0,C(),_())});n.useEffect(T,[e,T]);const N=D(b=>{h.current=void 0,u.current===b&&a(u.current)}),S=D(b=>{if(b.ctrlKey||Math.abs(b.deltaY)>Math.abs(b.deltaX))return;const k=M=>{f.current=M,E(g.current),g.current=M>0?w(()=>{f.current=0,g.current=void 0},300):void 0};if(e===Y.NONE){if(Math.abs(b.deltaX)<=1.2*Math.abs(f.current)){k(b.deltaX);return}if(!r(-b.deltaX))return;if(p.current+=b.deltaX,C(),Math.abs(p.current)>30)p.current=0,k(0),m.current=Date.now(),s();else{const M=p.current;d.current=w(()=>{d.current=void 0,M===p.current&&(p.current=0)},i)}}else if(e===Y.SWIPE){let M=u.current-b.deltaX;if(M=Math.min(Math.abs(M),o)*Math.sign(M),u.current=M,c(M),_(),Math.abs(M)>.2*o){k(b.deltaX),l(M,Date.now()-m.current);return}h.current=w(()=>N(M),2*i)}else k(b.deltaX)});n.useEffect(()=>t(Qe,S),[t,S])}const wt=Je("container"),on=n.createContext(null),ie=re("useController","ControllerContext",on);function so({children:e,...t}){var r;const{carousel:o,animation:i,controller:s,on:c,styles:l,render:a}=t,{closeOnPullUp:u,closeOnPullDown:p,preventDefaultWheelX:d,preventDefaultWheelY:h}=s,[f,g]=n.useState(),m=le(),w=Xn(),[E,C]=n.useState(Y.NONE),_=n.useRef(0),T=n.useRef(0),N=n.useRef(1),{registerSensors:S,subscribeSensors:b}=to(),{subscribe:k,publish:M}=Le(),V=ye(),L=ye(),F=ye(),{containerRef:P,setContainerRef:A,containerRect:R}=tn(),Z=Be(ro({preventDefaultWheelX:d,preventDefaultWheelY:h}),A),x=n.useRef(null),I=Be(x,void 0),{getOwnerDocument:$}=Ne(),j=ct(),U=v=>(j?-1:1)*(typeof v=="number"?v:1),y=D(()=>{var v;return(v=P.current)===null||v===void 0?void 0:v.focus()}),B=D(()=>t),se=D(()=>m),J=n.useCallback(v=>M(ue,v),[M]),Ce=n.useCallback(v=>M(de,v),[M]),he=n.useCallback(()=>M(pe),[M]),Te=v=>!(o.finite&&(U(v)>0&&m.currentIndex===0||U(v)<0&&m.currentIndex===m.slides.length-1)),at=v=>{var W;_.current=v,(W=P.current)===null||W===void 0||W.style.setProperty(K("swipe_offset"),`${Math.round(v)}px`)},ke=v=>{var W,H;T.current=v,N.current=(()=>{const be=p&&v>0?v:u&&v<0?-v:0;return Math.min(Math.max(nt(1-be/60*(1-.5),2),.5),1)})(),(W=P.current)===null||W===void 0||W.style.setProperty(K("pull_offset"),`${Math.round(v)}px`),(H=P.current)===null||H===void 0||H.style.setProperty(K("pull_opacity"),`${N.current}`)},{prepareAnimation:an}=xt(x,(v,W,H)=>{if(x.current&&R)return{keyframes:[{transform:`translate(0, ${v.rect.y-W.y+H.y}px)`,opacity:v.opacity},{transform:"translate(0, 0)",opacity:1}],duration:v.duration,easing:i.easing.fade}}),ut=(v,W)=>{if(u||p){ke(v);let H=0;x.current&&(H=i.fade*(W?2:1),an({rect:x.current.getBoundingClientRect(),opacity:N.current,duration:H})),F(()=>{ke(0),C(Y.NONE)},H),C(Y.ANIMATION),W||he()}},{prepareAnimation:un,isAnimationPlaying:dn}=xt(x,(v,W,H)=>{var ee;if(x.current&&R&&(!((ee=m.animation)===null||ee===void 0)&&ee.duration)){const G=Se(o.spacing),be=(G.percent?G.percent*R.width/100:G.pixel)||0;return{keyframes:[{transform:`translate(${U(m.globalIndex-v.index)*(R.width+be)+v.rect.x-W.x+H.x}px, 0)`},{transform:"translate(0, 0)"}],duration:m.animation.duration,easing:m.animation.easing}}}),xe=D(v=>{var W,H;const ee=v.offset||0,G=ee?i.swipe:(W=i.navigation)!==null&&W!==void 0?W:i.swipe,be=!ee&&!dn()?i.easing.navigation:i.easing.swipe;let{direction:_e}=v;const Pe=(H=v.count)!==null&&H!==void 0?H:1;let De=Y.ANIMATION,te=G*Pe;if(!_e){const Ee=R?.width,mt=v.duration||0,Ze=Ee?G/Ee*Math.abs(ee):G;Pe!==0?(mt<Ze?te=te/Ze*Math.max(mt,Ze/5):Ee&&(te=G/Ee*(Ee-Math.abs(ee))),_e=U(ee)>0?ue:de):te=G/2}let Ae=0;_e===ue?Te(U(1))?Ae=-Pe:(De=Y.NONE,te=G):_e===de&&(Te(U(-1))?Ae=Pe:(De=Y.NONE,te=G)),te=Math.round(te),L(()=>{at(0),C(Y.NONE)},te),x.current&&un({rect:x.current.getBoundingClientRect(),index:m.globalIndex}),C(De),M(gt,{type:"swipe",increment:Ae,duration:te,easing:be})});n.useEffect(()=>{var v,W;!((v=m.animation)===null||v===void 0)&&v.increment&&(!((W=m.animation)===null||W===void 0)&&W.duration)&&V(()=>w({type:"swipe",increment:0}),m.animation.duration)},[m.animation,w,V]);const dt=[b,Te,R?.width||0,i.swipe,()=>C(Y.SWIPE),v=>at(v),(v,W)=>xe({offset:v,duration:W,count:1}),v=>xe({offset:v,count:0})],fn=[()=>{p&&C(Y.PULL)},v=>ke(v),v=>ut(v),v=>ut(v,!0)];oo(s,...dt,u,p,...fn,he),io(E,...dt);const ft=D(()=>{s.focus&&$().querySelector(`.${O(He)} .${O(wt())}`)&&y()});n.useEffect(ft,[ft]);const ht=D(()=>{var v;(v=c.view)===null||v===void 0||v.call(c,{index:m.currentIndex})});n.useEffect(ht,[m.globalIndex,ht]),n.useEffect(()=>et(k(ue,v=>xe({direction:ue,...v})),k(de,v=>xe({direction:de,...v})),k(gt,v=>w(v))),[k,xe,w]);const hn=n.useMemo(()=>({prev:J,next:Ce,close:he,focus:y,slideRect:R?Ln(R,o.padding):{width:0,height:0},containerRect:R||{width:0,height:0},subscribeSensors:b,containerRef:P,setCarouselRef:I,toolbarWidth:f,setToolbarWidth:g}),[J,Ce,he,y,b,R,P,I,f,g,o.padding]);return n.useImperativeHandle(s.ref,()=>({prev:J,next:Ce,close:he,focus:y,getLightboxProps:B,getLightboxState:se}),[J,Ce,he,y,B,se]),n.createElement("div",{ref:Z,className:ne(O(wt()),O(Ke)),style:{...E===Y.SWIPE?{[K("swipe_offset")]:`${Math.round(_.current)}px`}:null,...E===Y.PULL?{[K("pull_offset")]:`${Math.round(T.current)}px`,[K("pull_opacity")]:`${N.current}`}:null,...s.touchAction!=="none"?{[K("controller_touch_action")]:s.touchAction}:null,...l.container},tabIndex:-1,...S},R&&n.createElement(on.Provider,{value:hn},e,(r=a.controls)===null||r===void 0?void 0:r.call(a)))}const co=ce(Rt,so);function ae(e){return we(Ot,e)}function Ct(e){return we(Ge,e)}function lo({slide:e,offset:t}){const r=n.useRef(null),{currentIndex:o,slides:i}=le(),{slideRect:s,focus:c}=ie(),{render:l,carousel:{imageFit:a,imageProps:u},on:{click:p},styles:{slide:d},labels:h}=q(),{getOwnerDocument:f}=Ne(),g=t!==0;n.useEffect(()=>{var w;g&&(!((w=r.current)===null||w===void 0)&&w.contains(f().activeElement))&&c()},[g,c,f]);const m=()=>{var w,E,C,_;let T=(w=l.slide)===null||w===void 0?void 0:w.call(l,{slide:e,offset:t,rect:s});return!T&&ve(e)&&(T=n.createElement(Me,{slide:e,offset:t,render:l,rect:s,imageFit:a,imageProps:u,onClick:g?void 0:()=>p?.({index:o})})),T?n.createElement(n.Fragment,null,(E=l.slideHeader)===null||E===void 0?void 0:E.call(l,{slide:e}),((C=l.slideContainer)!==null&&C!==void 0?C:({children:N})=>N)({slide:e,children:T}),(_=l.slideFooter)===null||_===void 0?void 0:_.call(l,{slide:e})):null};return n.createElement("div",{ref:r,className:ne(O(Ct()),!g&&O(Ct("current")),O(Ke)),...An(g),style:d,role:"group","aria-roledescription":ge(h,"Slide"),"aria-label":Nn(h,i,o+t)},m())}function ao(){const e=q().styles.slide;return n.createElement("div",{className:O(Ge),style:e})}function uo({carousel:e,labels:t}){const{slides:r,currentIndex:o,globalIndex:i}=le(),{setCarouselRef:s}=ie(),{autoPlaying:c,focusWithin:l}=Ht(),a=Se(e.spacing),u=Se(e.padding),p=kn(e,r,1),d=[];if(zt(r))for(let h=o-p;h<=o+p;h+=1){const f=Yt(r,h),g=i-o+h,m=e.finite&&(h<0||h>r.length-1);d.push(m?{key:g}:{key:[`${g}`,Rn(f)].filter(Boolean).join("|"),offset:h-o,slide:f})}return n.createElement("div",{ref:s,className:ne(O(ae()),d.length>0&&O(ae("with_slides"))),style:{[`${K(ae("slides_count"))}`]:d.length,[`${K(ae("spacing_px"))}`]:a.pixel||0,[`${K(ae("spacing_percent"))}`]:a.percent||0,[`${K(ae("padding_px"))}`]:u.pixel||0,[`${K(ae("padding_percent"))}`]:u.percent||0},role:"region","aria-live":c&&!l?"off":"polite","aria-roledescription":ge(t,"Carousel"),"aria-label":ge(t,"Photo gallery")},d.map(({key:h,slide:f,offset:g})=>f?n.createElement(lo,{key:h,slide:f,offset:g}):n.createElement(ao,{key:h})))}const fo=ce(Ot,uo);function rn(){const{carousel:e}=q(),{slides:t,currentIndex:r}=le(),o=t.length===0||e.finite&&r===0,i=t.length===0||e.finite&&r===t.length-1;return{prevDisabled:o,nextDisabled:i}}function ho(e){var t;const r=ct(),{publish:o}=Le(),{animation:i}=q(),{prevDisabled:s,nextDisabled:c}=rn(),l=((t=i.navigation)!==null&&t!==void 0?t:i.swipe)/2,a=Et(()=>o(ue),l),u=Et(()=>o(de),l),p=D(d=>{switch(d.key){case Pn:o(pe);break;case yn:(r?c:s)||(r?u:a)();break;case Sn:(r?s:c)||(r?a:u)();break}});n.useEffect(()=>e(qe,p),[e,p])}function _t({label:e,icon:t,renderIcon:r,action:o,onClick:i,disabled:s,style:c}){return n.createElement(it,{label:e,icon:t,renderIcon:r,className:O(`navigation_${o}`),disabled:s,onClick:i,style:c,...eo(ie().focus,s)})}function mo({render:{buttonPrev:e,buttonNext:t,iconPrev:r,iconNext:o},styles:i}){const{prev:s,next:c,subscribeSensors:l}=ie(),{prevDisabled:a,nextDisabled:u}=rn();return ho(l),n.createElement(n.Fragment,null,e?e():n.createElement(_t,{label:"Previous",action:ue,icon:Kn,renderIcon:r,style:i.navigationPrev,disabled:a,onClick:s}),t?t():n.createElement(_t,{label:"Next",action:de,icon:Gn,renderIcon:o,style:i.navigationNext,disabled:u,onClick:c}))}const po=ce(pn,mo),Pt=O(wn),go=O(kt);function vo(e){return"style"in e}function yt(e,t,r){const o=window.getComputedStyle(e),i=r?"padding-left":"padding-right",s=r?o.paddingLeft:o.paddingRight,c=e.style.getPropertyValue(i);return e.style.setProperty(i,`${(Ie(s)||0)+t}px`),()=>{c?e.style.setProperty(i,c):e.style.removeProperty(i)}}function xo({noScroll:{disabled:e},children:t}){const r=ct(),{getOwnerDocument:o,getOwnerWindow:i}=Ne();return n.useEffect(()=>{if(e)return()=>{};const s=[],c=i(),{body:l,documentElement:a}=o(),u=Math.round(c.innerWidth-a.clientWidth);if(u>0){s.push(yt(l,u,r));const p=l.getElementsByTagName("*");for(let d=0;d<p.length;d+=1){const h=p[d];vo(h)&&c.getComputedStyle(h).getPropertyValue("position")==="fixed"&&!h.classList.contains(go)&&s.push(yt(h,u,r))}}return l.classList.add(Pt),()=>{l.classList.remove(Pt),s.forEach(p=>p())}},[r,e,o,i]),n.createElement(n.Fragment,null,t)}const bo=ce(gn,xo);function St(e){return we(He,e)}function Mt(e,t,r){const o=e.getAttribute(t);return e.setAttribute(t,r),()=>{o?e.setAttribute(t,o):e.removeAttribute(t)}}function Eo({children:e,animation:t,styles:r,className:o,on:i,portal:s,close:c,labels:l}){const[a,u]=n.useState(!1),[p,d]=n.useState(!1),h=n.useRef([]),f=n.useRef(null),{setTimeout:g}=Oe(),{subscribe:m}=Le(),E=st()?0:t.fade;n.useEffect(()=>(u(!0),()=>{u(!1),d(!1)}),[]);const C=D(()=>{h.current.forEach(S=>S()),h.current=[]}),_=D(()=>{var S;d(!1),C(),(S=i.exiting)===null||S===void 0||S.call(i),g(()=>{var b;(b=i.exited)===null||b===void 0||b.call(i),c()},E)});n.useEffect(()=>m(pe,_),[m,_]);const T=D(S=>{var b,k,M;Zn(S),d(!0),(b=i.entering)===null||b===void 0||b.call(i);const V=(M=(k=S.parentNode)===null||k===void 0?void 0:k.children)!==null&&M!==void 0?M:[];for(let L=0;L<V.length;L+=1){const F=V[L];["TEMPLATE","SCRIPT","STYLE"].indexOf(F.tagName)===-1&&F!==S&&(h.current.push(Mt(F,"inert","")),h.current.push(Mt(F,"aria-hidden","true")))}h.current.push(()=>{var L,F;(F=(L=f.current)===null||L===void 0?void 0:L.focus)===null||F===void 0||F.call(L)}),g(()=>{var L;(L=i.entered)===null||L===void 0||L.call(i)},E)}),N=n.useCallback(S=>{S?T(S):C()},[T,C]);return a?In.createPortal(n.createElement(no,{ref:N,className:ne(o,O(St()),O(kt),p&&O(St("open"))),"aria-modal":!0,role:"dialog","aria-label":ge(l,"Lightbox"),style:{...t.fade!==je.animation.fade?{[K("fade_animation_duration")]:`${E}ms`}:null,...t.easing.fade!==je.animation.easing.fade?{[K("fade_animation_timing_function")]:t.easing.fade}:null,...r.root},onFocus:S=>{f.current||(f.current=S.relatedTarget)}},e),s.root||document.body):null}const wo=ce(He,Eo);function Co({children:e}){return n.createElement(n.Fragment,null,e)}const _o=ce(vn,Co);function Po(e){return we(Tt,e)}function yo({toolbar:{buttons:e},render:{buttonClose:t,iconClose:r},styles:o}){const{close:i,setToolbarWidth:s}=ie(),{setContainerRef:c,containerRect:l}=tn();oe(()=>{s(l?.width)},[s,l?.width]);const a=()=>t?t():n.createElement(it,{key:pe,label:"Close",icon:Hn,renderIcon:r,onClick:i});return n.createElement("div",{ref:c,style:o.toolbar,className:O(Po())},e?.map(u=>u===pe?a():u))}const So=ce(Tt,yo);function sn(e,t){var r;return n.createElement(e.module.component,{key:e.module.name,...t},(r=e.children)===null||r===void 0?void 0:r.map(o=>sn(o,t)))}function Mo(e,t={}){const{easing:r,...o}=e,{easing:i,...s}=t;return{easing:{...r,...i},...o,...s}}function Io({carousel:e,animation:t,render:r,toolbar:o,controller:i,noScroll:s,on:c,plugins:l,slides:a,index:u,...p}){const{animation:d,carousel:h,render:f,toolbar:g,controller:m,noScroll:w,on:E,slides:C,index:_,plugins:T,...N}=je,{config:S,augmentation:b}=Wn([z(wo,[z(bo,[z(co,[z(fo),z(So),z(po)])])])],l||T),k=b({animation:Mo(d,t),carousel:{...h,...e},render:{...f,...r},toolbar:{...g,...o},controller:{...m,...i},noScroll:{...w,...s},on:{...E,...c},...N,...p});return k.open?n.createElement(Un,{...k},n.createElement(Yn,{slides:a||C,index:Ie(u||_)},n.createElement(jn,null,n.createElement(Vn,null,n.createElement(Fn,null,sn(z(_o,S),k)))))):null}const No={minZoom:1,maxZoomPixelRatio:1,zoomInMultiplier:2,doubleTapDelay:300,doubleClickDelay:500,doubleClickMaxStops:2,keyboardMoveDistance:50,wheelZoomDistanceFactor:100,pinchZoomDistanceFactor:100,scrollToZoom:!1};function Lo(e){return Math.min(Math.max(e,Number.EPSILON),1)}function cn(e){const{minZoom:t,...r}={...No,...e};return{minZoom:Lo(t),...r}}function Oo(e,t,r,o){const i=n.useRef(void 0),s=n.useRef(void 0),{zoom:c}=q().animation,l=st(),a=D(()=>{var u,p,d;if((u=i.current)===null||u===void 0||u.cancel(),i.current=void 0,s.current&&o?.current){try{i.current=(d=(p=o.current).animate)===null||d===void 0?void 0:d.call(p,[{transform:s.current},{transform:`scale(${e}) translateX(${t}px) translateY(${r}px)`}],{duration:l?0:c??500,easing:i.current?"ease-out":"ease-in-out"})}catch(h){console.error(h)}s.current=void 0,i.current&&(i.current.onfinish=()=>{i.current=void 0})}});return oe(a,[e,t,r,a]),n.useCallback(()=>{s.current=o?.current?window.getComputedStyle(o.current).transform:void 0},[o])}function Ro(e,t){const{on:r}=q(),o=D(()=>{var i;t||(i=r.zoom)===null||i===void 0||i.call(r,{zoom:e})});n.useEffect(o,[e,o])}function Re(){const{zoom:e}=q();return cn(e)}function To(e,t){var r,o;let i={width:0,height:0},s={width:0,height:0};const{currentSlide:c}=le(),{imageFit:l}=q().carousel,{maxZoomPixelRatio:a}=Re();if(e&&c){const p={...c,...t};if(ve(p)){const d=ot(p,l),h=Math.max(...(((r=p.srcSet)===null||r===void 0?void 0:r.map(g=>g.width))||[]).concat(p.width?[p.width]:[])),f=Math.max(...(((o=p.srcSet)===null||o===void 0?void 0:o.map(g=>g.height))||[]).concat(p.height?[p.height]:[]));h>0&&f>0&&e.width>0&&e.height>0&&(s=d?{width:Math.round(Math.min(h,e.width/e.height*f)),height:Math.round(Math.min(f,e.height/e.width*h))}:{width:h,height:f},s={width:s.width*a,height:s.height*a},i=d?{width:Math.min(e.width,s.width,h),height:Math.min(e.height,s.height,f)}:{width:Math.round(Math.min(e.width,e.height/f*h,h)),height:Math.round(Math.min(e.height,e.width/h*f,f))})}}const u=i.width?Math.max(nt(s.width/i.width,5),1):1;return{imageRect:i,maxZoom:u}}function It(e,t){return((e.clientX-t.clientX)**2+(e.clientY-t.clientY)**2)**.5}function Nt(e,t,r=100,o=2){return e*Math.min(1+Math.abs(t/r),o)**Math.sign(t)}function ko(e,t,r,o,i,s,c,l,a){const u=n.useRef([]),p=n.useRef(0),d=n.useRef(void 0),{globalIndex:h}=le(),{getOwnerWindow:f}=Ne(),{containerRef:g,subscribeSensors:m}=ie(),{keyboardMoveDistance:w,zoomInMultiplier:E,wheelZoomDistanceFactor:C,scrollToZoom:_,doubleTapDelay:T,doubleClickDelay:N,doubleClickMaxStops:S,pinchZoomDistanceFactor:b}=Re(),k=n.useCallback(x=>{if(g.current){const{pageX:I,pageY:$}=x,{scrollX:j,scrollY:U}=f(),{left:y,top:B,width:se,height:J}=g.current.getBoundingClientRect();return[I-y-j-se/2,$-B-U-J/2]}return[]},[g,f]),M=D(x=>{const{key:I,metaKey:$,ctrlKey:j}=x,U=$||j,y=()=>{x.preventDefault(),x.stopPropagation()};if(e>1){const B=(se,J)=>{y(),l(se,J)};I==="ArrowDown"?B(0,w):I==="ArrowUp"?B(0,-w):I==="ArrowLeft"?B(-w,0):I==="ArrowRight"&&B(w,0)}I==="+"||U&&I==="="?(y(),i()):I==="-"||U&&I==="_"?(y(),s()):U&&I==="0"&&(y(),c(1))}),V=D(x=>{if((x.ctrlKey||_)&&Math.abs(x.deltaY)>Math.abs(x.deltaX)){x.stopPropagation(),c(Nt(e,-x.deltaY,C),!0,...k(x));return}e>1&&(x.stopPropagation(),_||l(x.deltaX,x.deltaY))}),L=n.useCallback(x=>{const I=u.current;I.splice(0,I.length,...I.filter($=>$.pointerId!==x.pointerId))},[]),F=n.useCallback(x=>{L(x),x.persist(),u.current.push(x)},[L]),P=D(x=>{var I;const $=u.current;if(x.pointerType==="mouse"&&x.buttons>1||!(!((I=a?.current)===null||I===void 0)&&I.contains(x.target)))return;e>1&&x.stopPropagation();const{timeStamp:j}=x;if($.length===0&&j-p.current<(x.pointerType==="touch"?T:N)){p.current=0;const U=e>=1?e!==r?e*Math.max(r**(1/S),E):1:e!==t?e/Math.max(t**(-1/S),E):1;c(U,!1,...k(x))}else p.current=j;F(x),$.length===2&&(d.current=It($[0],$[1]))}),A=D(x=>{const I=u.current,$=I.find(j=>j.pointerId===x.pointerId);if(I.length===2&&d.current){x.stopPropagation(),F(x);const j=It(I[0],I[1]),U=j-d.current;Math.abs(U)>0&&(c(Nt(e,U,b),!0,...I.map(y=>k(y)).reduce((y,B)=>B.map((se,J)=>y[J]+se/2))),d.current=j);return}e>1&&(x.stopPropagation(),$&&(I.length===1&&l(($.clientX-x.clientX)/e,($.clientY-x.clientY)/e),F(x)))}),R=n.useCallback(x=>{const I=u.current;I.length===2&&I.find($=>$.pointerId===x.pointerId)&&(d.current=void 0),L(x)},[L]),Z=n.useCallback(()=>{const x=u.current;x.splice(0,x.length),p.current=0,d.current=void 0},[]);nn(m,P,A,R,o),n.useEffect(Z,[h,Z]),n.useEffect(()=>o?()=>{}:et(Z,m(qe,M),m(Qe,V)),[o,m,Z,M,V])}function Do(e,t,r){const[o,i]=n.useState(1),[s,c]=n.useState(0),[l,a]=n.useState(0),u=Oo(o,s,l,r),{currentSlide:p,globalIndex:d}=le(),{containerRect:h,slideRect:f}=ie(),{minZoom:g,zoomInMultiplier:m}=Re(),w=p&&ve(p)?p.src:void 0,E=!w||!r?.current;oe(()=>{i(1),c(0),a(0)},[d,w]);const C=n.useCallback((b,k,M)=>{const V=M||o,L=s-(b||0),F=l-(k||0),P=(e.width*V-f.width)/2/V,A=(e.height*V-f.height)/2/V;c(Math.min(Math.abs(L),Math.max(P,0))*Math.sign(L)),a(Math.min(Math.abs(F),Math.max(A,0))*Math.sign(F))},[o,s,l,f,e.width,e.height]),_=n.useCallback((b,k,M,V)=>{const L=nt(Math.min(Math.max(b+.001<t?b:t,g),t),5);L!==o&&(k||u(),C(M?M*(1/o-1/L):0,V?V*(1/o-1/L):0,L),i(L))},[o,g,t,C,u]),T=D(()=>{o>1&&(o>t&&_(t,!0),C())});oe(T,[h.width,h.height,T]);const N=n.useCallback(()=>{const b=o*m;_(o<1&&b>1?1:b)},[o,m,_]),S=n.useCallback(()=>{const b=o/m;_(o>1&&b<1?1:b)},[o,m,_]);return{zoom:o,offsetX:s,offsetY:l,disabled:E,changeOffsets:C,changeZoom:_,zoomIn:N,zoomOut:S}}const ln=n.createContext(null),lt=re("useZoom","ZoomControllerContext",ln);function Ao({children:e}){const[t,r]=n.useState(),{slideRect:o}=ie(),{ref:i,minZoom:s}=Re(),{imageRect:c,maxZoom:l}=To(o,t?.imageDimensions),{zoom:a,offsetX:u,offsetY:p,disabled:d,changeZoom:h,changeOffsets:f,zoomIn:g,zoomOut:m}=Do(c,l,t?.zoomWrapperRef);Ro(a,d),ko(a,s,l,d,g,m,h,f,t?.zoomWrapperRef);const w=n.useMemo(()=>({zoom:a,minZoom:s,maxZoom:l,offsetX:u,offsetY:p,disabled:d,zoomIn:g,zoomOut:m,changeZoom:h}),[a,s,l,u,p,d,g,m,h]);n.useImperativeHandle(i,()=>w,[w]);const E=n.useMemo(()=>({...w,setZoomWrapper:r}),[w,r]);return n.createElement(ln.Provider,{value:E},e)}const Zo=fe("ZoomIn",n.createElement(n.Fragment,null,n.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),n.createElement("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"}))),Wo=fe("ZoomOut",n.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"})),Lt=n.forwardRef(function({zoomIn:t,onLoseFocus:r},o){const i=n.useRef(!1),s=n.useRef(!1),{zoom:c,minZoom:l,maxZoom:a,zoomIn:u,zoomOut:p,disabled:d}=lt(),{render:h}=q(),f=d||(t?c>=a:c<=l);return n.useEffect(()=>{f&&i.current&&s.current&&r(),f||(i.current=!0)},[f,r]),n.createElement(it,{ref:o,disabled:f,label:t?"Zoom in":"Zoom out",icon:t?Zo:Wo,renderIcon:t?h.iconZoomIn:h.iconZoomOut,onClick:t?u:p,onFocus:()=>{s.current=!0},onBlur:()=>{s.current=!1}})});function Fo(){const e=n.useRef(null),t=n.useRef(null),{focus:r}=ie(),o=n.useCallback(c=>{var l,a;!((l=c.current)===null||l===void 0)&&l.disabled?r():(a=c.current)===null||a===void 0||a.focus()},[r]),i=n.useCallback(()=>o(e),[o]),s=n.useCallback(()=>o(t),[o]);return n.createElement(n.Fragment,null,n.createElement(Lt,{zoomIn:!0,ref:e,onLoseFocus:s}),n.createElement(Lt,{ref:t,onLoseFocus:i}))}function $o(){const{render:e}=q(),t=lt();return e.buttonZoom?n.createElement(n.Fragment,null,e.buttonZoom(t)):n.createElement(Fo,null)}function Vo(e){var t;return(((t=e.srcSet)===null||t===void 0?void 0:t.length)||0)>0}function Uo({current:e,preload:t},{type:r,source:o}){switch(r){case"fetch":return e?{current:e,preload:o}:{current:o};case"done":return o===t?{current:o}:{current:e,preload:t};default:throw new Error(Ut)}}function Xo(e){var t,r;const[{current:o,preload:i},s]=n.useReducer(Uo,{}),{slide:c,rect:l,imageFit:a,render:u,interactive:p}=e,d=c.srcSet.sort((N,S)=>N.width-S.width),h=(t=c.width)!==null&&t!==void 0?t:d[d.length-1].width,f=(r=c.height)!==null&&r!==void 0?r:d[d.length-1].height,g=ot(c,a),m=Math.max(...d.map(N=>N.width)),w=Math.min((g?Math.max:Math.min)(l.width,h*(l.height/f)),m),E=On(),C=D(()=>{var N;const S=(N=d.find(b=>b.width>=w*E))!==null&&N!==void 0?N:d[d.length-1];(!o||d.findIndex(b=>b.src===o)<d.findIndex(b=>b===S))&&s({type:"fetch",source:S.src})});oe(C,[l.width,l.height,E,C]);const _=D(N=>s({type:"done",source:N})),T={WebkitTransform:p?"initial":"translateZ(0)"};return g||Object.assign(T,l.width/l.height<h/f?{width:"100%",height:"auto"}:{width:"auto",height:"100%"}),n.createElement(n.Fragment,null,i&&i!==o&&n.createElement(Me,{key:"preload",...e,offset:void 0,slide:{...c,src:i,srcSet:void 0},style:{position:"absolute",visibility:"hidden",...T},onLoad:()=>_(i),render:{...u,iconLoading:()=>null,iconError:()=>null}}),o&&n.createElement(Me,{key:"current",...e,slide:{...c,src:o,srcSet:void 0},style:T}))}function zo({render:e,slide:t,offset:r,rect:o}){var i;const[s,c]=n.useState(),l=n.useRef(null),{zoom:a,maxZoom:u,offsetX:p,offsetY:d,setZoomWrapper:h}=lt(),f=a>1,{carousel:g,on:m}=q(),{currentIndex:w}=le();oe(()=>r===0?(h({zoomWrapperRef:l,imageDimensions:s}),()=>h(void 0)):()=>{},[r,s,h]);let E=(i=e.slide)===null||i===void 0?void 0:i.call(e,{slide:t,offset:r,rect:o,zoom:a,maxZoom:u});if(!E&&ve(t)){const C={slide:t,offset:r,rect:o,render:e,imageFit:g.imageFit,imageProps:g.imageProps,onClick:r===0?()=>{var _;return(_=m.click)===null||_===void 0?void 0:_.call(m,{index:w})}:void 0};E=Vo(t)?n.createElement(Xo,{...C,slide:t,interactive:f,rect:r===0?{width:o.width*a,height:o.height*a}:o}):n.createElement(Me,{onLoad:_=>c({width:_.naturalWidth,height:_.naturalHeight}),...C})}return E?n.createElement("div",{ref:l,className:ne(O(En),O(Ke),O(Dt),f&&O(Cn)),style:r===0?{transform:`scale(${a}) translateX(${p}px) translateY(${d}px)`}:void 0},E):null}const Yo=({augment:e,addModule:t})=>{e(({zoom:r,toolbar:o,render:i,controller:s,...c})=>{const l=cn(r);return{zoom:l,toolbar:Tn(o,pt,n.createElement($o,null)),render:{...i,slide:a=>{var u;return ve(a.slide)?n.createElement(zo,{render:i,...a}):(u=i.slide)===null||u===void 0?void 0:u.call(i,a)}},controller:{...s,preventDefaultWheelY:l.scrollToZoom},...c}}),t(ce(pt,Ao))};function Go({items:e,className:t}){const[r,o]=n.useState(!1),[i,s]=n.useState(0),c=n.useMemo(()=>e.map(a=>({src:a.fullSrc,alt:a.alt})),[e]),l=n.useCallback(a=>{s(a),o(!0)},[]);return!e||e.length===0?X.jsx("div",{className:"text-center py-12",children:X.jsx("p",{className:"text-matrix-white/60",children:"No images available"})}):X.jsxs(X.Fragment,{children:[X.jsx("div",{className:`grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 lg:gap-8 ${t||""}`,children:e.map((a,u)=>X.jsxs("div",{className:"group relative aspect-square overflow-hidden rounded-2xl bg-gradient-to-br from-gray-900 to-black border border-gray-800/50 shadow-[inset_0_1px_0_rgba(255,255,255,0.1),0_8px_32px_rgba(0,0,0,0.8)] hover:shadow-[inset_0_1px_0_rgba(57,255,20,0.2),0_12px_40px_rgba(57,255,20,0.15)] transition-all duration-500 ease-out hover:scale-[1.02] hover:-translate-y-1",children:[X.jsx("img",{src:a.thumbSrc,alt:a.alt,className:"w-full h-full object-cover transition-all duration-500 ease-out group-hover:scale-110",loading:"lazy",decoding:"async"}),X.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-all duration-500 ease-out",children:X.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 sm:p-6",children:X.jsxs("div",{className:"text-center",children:[X.jsx("h4",{className:"text-matrix-white font-medium text-sm sm:text-base mb-2",children:a.alt}),X.jsx("p",{className:"text-matrix-white/70 text-xs sm:text-sm",children:"Click to view full size"})]})})}),X.jsx("button",{onClick:()=>l(u),className:"absolute inset-0 w-full h-full focus:outline-none focus:ring-4 focus:ring-primary/30 focus:ring-offset-2 focus:ring-offset-black transition-all duration-300 cursor-pointer","aria-label":`Open ${a.alt} in lightbox`,children:X.jsxs("span",{className:"sr-only",children:["Open ",a.alt," in lightbox"]})}),X.jsx("div",{className:"absolute top-4 right-4 w-8 h-8 rounded-full bg-primary/20 border border-primary/40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all duration-300 ease-out transform translate-y-2 group-hover:translate-y-0",children:X.jsx("svg",{className:"w-4 h-4 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:X.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"})})})]},u))}),X.jsx(Io,{open:r,close:()=>o(!1),index:i,slides:c,plugins:[Yo],zoom:{maxZoomPixelRatio:3,zoomInMultiplier:2,doubleTapDelay:300,doubleClickDelay:300,doubleClickMaxStops:2,keyboardMoveDistance:50,wheelZoomDistanceFactor:100,pinchZoomDistanceFactor:100,scrollToZoom:!0},carousel:{finite:!0,preload:2,padding:"16px",spacing:"30%",imageFit:"contain"},animation:{fade:400,swipe:500},controller:{closeOnBackdropClick:!0,closeOnPullDown:!0},render:{buttonPrev:e.length<=1?()=>null:void 0,buttonNext:e.length<=1?()=>null:void 0}})]})}export{Go as default};
